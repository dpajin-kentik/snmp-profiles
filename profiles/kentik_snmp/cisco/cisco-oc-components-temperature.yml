# oc-components-temperature_ciscoEnvMonTemperatureStatusTable.yml
# SNMP: CISCO-ENVMON-MIB::ciscoEnvMonTemperatureStatusTable
# OC: /components/component/state/temperature
# Kentik-path: /components/temperature


extends:
  - oc-components_entPhysicalTable.yml

metrics:

  - MIB: /components
    table:
      OID: .1.3.6.1.4.1.9.9.13.1.3   # CISCO-ENVMON-MIB::ciscoEnvMonTemperatureStatusTable
      name: temperature
      # oc-path: /components/component/state/temperature

    symbols:

      - tag: temperature:instant
        OID: .1.3.6.1.4.1.9.9.13.1.3.1.3
        name: ciscoEnvMonTemperatureStatusValue

      - tag: temperature:state
        OID: .1.3.6.1.4.1.9.9.13.1.3.1.6
        name: ciscoEnvMonTemperatureState
        enum:
          NORMAL: 1
          WARNING: 2
          MAJOR: 3
          CRITICAL: 4
          UNKNOWN: 5
          UNKNOWN: 6

    metric_tags:
      - tag: components:name
        column:
          OID: .1.3.6.1.4.1.9.9.13.1.3.1.2
          name: ciscoEnvMonTemperatureStatusDescr

      - tag: components:name
        column:
          OID: .1.3.6.1.2.1.47.1.1.1.1.7
          name: entPhysicalName

      - tag: components:description
        column:
          OID: .1.3.6.1.2.1.47.1.1.1.1.2
          name: entPhysicalDescr

      - tag: temperature:alarm-threshold
        OID: .1.3.6.1.4.1.9.9.13.1.3.1.4
        name: ciscoEnvMonTemperatureThreshold

      # The current state of the testpoint being instrumented.
      # OC: OPENCONFIG_ALARM_SEVERITY - UNKNOWN, MINOR, WARNING, MAJOR, CRITICAL
      # 'state' does not exist in OC
      - tag: temperature:state1
        OID: 1.3.6.1.4.1.9.9.13.1.3.1.6
        name: ciscoEnvMonTemperatureState1
        enum:
          NORMAL: 1
          WARNING: 2
          MAJOR: 3
          CRITICAL: 4
          UNKNOWN: 5
          UNKNOWN1: 6
        # Represents the state of a device being monitored. Valid values are: 
        # normal(1): the environment is good, such as low temperature. 
        # warning(2): the environment is bad, such as temperature above normal operation range but not too high. 
        # critical(3): the environment is very bad, such as temperature much higher than normal operation limit. 
        # shutdown(4): the environment is the worst, the system should be shutdown immediately. 
        # notPresent(5): the environmental monitor is not present, such as temperature sensors do not exist. 
        # notFunctioning(6): the environmental monitor does not function properly, such as a temperature sensor generates a abnormal data like 1000 C.
